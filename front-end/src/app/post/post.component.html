
<!--Mostra Posts-->
<div *ngFor="let post of posts">
    <div style="border: 1px solid; margin-bottom: 20px;">
        <p>{{post.id}}</p>
        <p>{{post.titulo}}</p>
        <p>{{post.contenido}}</p>

        <div *ngIf="post.imagen != null">
           <img src="{{post.imagen}}" alt="" style="width: 250px;">

           <div>
            <form [formGroup]="formularioImagenPost">
    
                <div>
                    <label for="imagen">Imagen:</label>
                    <input type="file" id="imagen" formControlName="imagen" required (change)="onFileSelected($event)">
                    <div *ngIf="formularioImagenPost.controls['imagen'].invalid && (formularioImagenPost.controls['imagen'].dirty || formularioImagenPost.controls['imagen'].touched)">
                
                    </div>
                </div>
            
               
                <button type="submit" (click)="modificarImagenPost()">Ingresar</button>
              </form>
        </div>

        </div>

        <p>{{post.num_likes}}</p>
        <p>{{post.num_visitas}}</p>
        <p>{{post.usuario.username}}</p>

        <button (click)="eliminarPost()">Eliminar Post</button>
        <button (click)="modificarPost()">Modificar Post</button>

    </div>

    <h1>Comentarios</h1>

    <div>
        <form [formGroup]="formularioComent" (ngSubmit)="nuevoComentario()">

            <div>
              <label for="contenido">Contenido:</label>
              <textarea rows="10" cols="200" id="contenido" formControlName="contenido" required placeholder="Introduce tu comentario"></textarea>
              <div *ngIf="formularioComent.controls['contenido'].invalid && (formularioComent.controls['contenido'].dirty || formularioComent.controls['contenido'].touched)">
              </div>
            </div>
        
           
            <button type="submit" [disabled]="formularioComent.invalid">Ingresar</button>
          </form>
    </div>

    <div *ngFor="let comentario of comentarios " >
        <div style="border: 1px solid; margin-bottom: 20px;">
            <p>{{comentario.contenido}}</p>
            <p>{{comentario.fecha_creacion}}</p>
            <p>{{comentario.nombre_usuario}}</p>

            <button (click)="modificaComentario(comentario.id)">Modificar comentario</button>

        </div>

</div>
