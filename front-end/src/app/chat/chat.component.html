<script src="https://kit.fontawesome.com/60e30e70b1.js" crossorigin="anonymous"></script>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous" />

<link rel="stylesheet"
    href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@48,200,1,0" />

<div class="container-fluid d-flex mx-0 px-0">

    <!-- CABECERA DEL PROYECTO -->
    <div class="container col-3  mx-0 ">
        <app-cabecera></app-cabecera>
    </div>


    <!-- CUERPO DEL PROYECTO -->
    <div class="col-6 border bg-image" style="background-image: url('../../assets/FondoChat.jpg');
             background-repeat: repeat; background-attachment: fixed;">


        <!-- Cuerpo -->
        <div>

            <div class="row m-5">

                <div *ngFor="let mensaje of mensajes">
                    <div *ngIf="usuario_logeado.url == mensaje.emisor" class="row d-flex mx-0 px-0 justify-content-end mb-4">
                        <div class=" col-6 border  bg-white border-black rounded-3 text-wrap pt-3 px-3">
                            <div class="text-start">
                                <p>{{mensaje.mensaje}}</p>
                            </div>
                            <div class="row  text-end">
                                <p>20:34</p>
                            </div>
                        </div>
                    </div>

                    <div *ngIf="usuario_logeado.url == mensaje.receptor" class="row mb-4">
                        <div class=" col-6 border  bg-white border-black rounded-3 text-wrap pt-3 px-3">
                            <div class="text-start">
                                <p>{{mensaje.mensaje}}</p>
                            </div>
                            <div class="row  text-end">
                                <p>20:34</p>
                            </div>
                        </div>
                    </div>

                </div>


                <form [formGroup]="formularioChat" (ngSubmit)="nuevoMensaje()">
                    <div class="mb-3">

                      <textarea class="form-control" rows=8 formControlName="mensaje" required
                        placeholder="Introduce tu mensaje" [defaultValue]=""></textarea>
                    </div>
                    <button type="submit" class="btn btn-primary" >Enviar</button>
                  </form>

            </div>

        </div>
    </div>
    <div class="container col-3 border">

        <app-contactos-chat></app-contactos-chat>


    </div>
</div>